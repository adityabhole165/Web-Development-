<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hero's Journey Tracker</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Font Awesome -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
  />
  <style>
    @import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap");

    body {
      font-family: "Inter", sans-serif;
      background: linear-gradient(135deg, #1e293b, #0f172a);
      color: #f9fafb;
    }
    .container {
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }
    .neumorphic {
      background: #1e293b;
      border-radius: 20px;
      box-shadow: 6px 6px 12px #0f172a, -6px -6px 12px #334155;
    }
    .neumorphic-inset {
      background: #1e293b;
      border-radius: 20px;
      box-shadow: inset 6px 6px 12px #0f172a, inset -6px -6px 12px #334155;
    }
    .neumorphic-button {
      background: linear-gradient(135deg, #334155, #1e293b);
      border-radius: 12px;
      box-shadow: 4px 4px 8px #0f172a, -4px -4px 8px #334155;
      transition: all 0.2s ease-in-out;
      color: #f9fafb;
    }
    .neumorphic-button:hover {
      background: linear-gradient(135deg, #475569, #1e293b);
      transform: translateY(-2px);
    }
    .neumorphic-button:active {
      box-shadow: inset 4px 4px 8px #0f172a, inset -4px -4px 8px #334155;
    }
    .glow-effect {
      box-shadow: 0 0 20px rgba(251, 191, 36, 0.9);
    }
    .disabled-button {
      background: #374151;
      color: #9ca3af;
      cursor: not-allowed;
      box-shadow: inset 2px 2px 5px #111827, inset -2px -2px 5px #4b5563;
    }
    .hidden {
      display: none;
    }
    .custom-checkbox {
      appearance: none;
      width: 24px;
      height: 24px;
      border-radius: 6px;
      background-color: #1e293b;
      box-shadow: inset 2px 2px 4px #0f172a, inset -2px -2px 4px #334155;
      cursor: pointer;
      transition: all 0.2s ease-in-out;
      position: relative;
    }
    .custom-checkbox:checked {
      background: linear-gradient(135deg, #22c55e, #16a34a);
      box-shadow: inset 2px 2px 4px #14532d, inset -2px -2px 4px #4ade80;
    }
    .custom-checkbox:checked::after {
      content: "";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(45deg);
      width: 6px;
      height: 12px;
      border: solid white;
      border-width: 0 3px 3px 0;
    }
    .message-modal {
      background: #1e293b;
      border-radius: 20px;
      box-shadow: 6px 6px 12px #0f172a, -6px -6px 12px #334155;
      z-index: 1000;
      color: #f9fafb;
    }
  </style>
</head>
<body class="p-6">
  <div
    id="app"
    class="container min-h-screen p-6 rounded-3xl shadow-2xl flex flex-col items-center text-gray-100"
  >
    <!-- Message Box -->
    <div
      id="message-box"
      class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 hidden"
    >
      <div class="message-modal rounded-xl p-6 text-center w-full max-w-sm relative">
        <button
          id="close-message"
          class="absolute top-2 right-2 text-gray-400 hover:text-gray-200"
        >
          <i class="fa-solid fa-xmark text-xl"></i>
        </button>
        <h3 id="message-title" class="font-bold text-lg mb-2"></h3>
        <p id="message-content" class="text-sm"></p>
      </div>
    </div>

    <!-- Header and Character Dashboard -->
    <div class="w-full flex flex-col items-center text-center p-4 mb-6">
      <h1 class="text-4xl font-extrabold bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 bg-clip-text text-transparent drop-shadow-md">
        Your Hero's Journey
      </h1>
      <p class="text-sm text-gray-400 mt-1">
        Welcome, Hero of the Digital Realm!
      </p>
      <div class="w-full mt-4 p-4 rounded-xl neumorphic text-left">
        <h2 class="text-xl font-bold mb-2 text-yellow-400">
          Character Dashboard
        </h2>
        <div class="grid grid-cols-2 gap-4">
          <div>
            <span class="font-semibold text-gray-300">Current XP:</span>
            <div
              class="neumorphic-inset text-center py-2 rounded-lg mt-1 text-yellow-400"
            >
              <span id="xp-counter" class="font-bold text-lg">0</span>
            </div>
          </div>
          <div>
            <span class="font-semibold text-gray-300">Current Level:</span>
            <div
              class="neumorphic-inset text-center py-2 rounded-lg mt-1 text-green-400"
            >
              <span id="level-name" class="font-bold text-lg"
                >Level 1 (Novice)</span
              >
            </div>
          </div>
          <div class="col-span-2">
            <span class="font-semibold text-gray-300">XP to Next Level:</span>
            <div
              class="neumorphic-inset text-center py-2 rounded-lg mt-1 text-blue-400"
            >
              <span id="xp-to-next" class="font-bold text-lg">500 XP</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Daily Quests Section -->
    <div class="mt-4 w-full p-4 rounded-xl neumorphic">
      <div class="flex items-center justify-between mb-2">
        <h3 class="text-xl font-bold text-pink-400">Daily Quests</h3>
        <span id="date-display" class="text-sm text-gray-400"></span>
      </div>
      <div id="quest-list" class="space-y-4"></div>
      <button
        id="update-xp-button"
        class="neumorphic-button mt-6 w-full py-4 text-xl font-semibold hover:glow-effect"
      >
        <i class="fa-solid fa-star mr-2 text-yellow-400"></i> Update Daily XP
      </button>
    </div>

    <!-- Rewards Section -->
    <div class="mt-8 w-full">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-xl font-semibold text-purple-400">Available Rewards</h3>
        <button
          id="open-rewards-button"
          class="neumorphic-button px-4 py-2 rounded-xl text-sm font-medium"
        >
          <i class="fa-solid fa-gem mr-2 text-cyan-400"></i>Rewards
        </button>
      </div>
      <div id="rewards-list" class="space-y-3"></div>
    </div>

    <!-- Export to CSV -->
    <button
      id="export-button"
      class="neumorphic-button mt-8 w-full py-4 text-xl font-semibold hover:glow-effect"
    >
      <i class="fa-solid fa-file-csv mr-2 text-green-400"></i> Export to CSV
    </button>
  </div>

  <script>
    // (JS code from your original snippet remains unchanged)
    // Only UI styling/colors were updated in CSS and HTML above.

    const app = document.getElementById("app");
    const xpCounter = document.getElementById("xp-counter");
    const levelName = document.getElementById("level-name");
    const xpToNext = document.getElementById("xp-to-next");
    const dateDisplay = document.getElementById("date-display");
    const questListContainer = document.getElementById("quest-list");
    const updateXpButton = document.getElementById("update-xp-button");
    const rewardsListContainer = document.getElementById("rewards-list");
    const exportButton = document.getElementById("export-button");
    const messageBox = document.getElementById("message-box");
    const closeMessageButton = document.getElementById("close-message");
    const messageTitle = document.getElementById("message-title");
    const messageContent = document.getElementById("message-content");

    const state = {
      xp: 0,
      level: 1,
      levelTiers: {
        1: { name: "Level 1 (Novice)", xpRequired: 500 },
        2: { name: "Level 2 (Apprentice)", xpRequired: 1000 },
        3: { name: "Level 3 (Master)", xpRequired: 2000 },
      },
      dailyQuests: [
        { id: "workout", name: "Workout or walk", xp: 10, completed: false },
        { id: "java-dsa", name: "Practice Java DSA (2 hrs)", xp: 100, completed: false },
        { id: "web-dev", name: "Web Development (2 hrs)", xp: 100, completed: false },
        { id: "aiml", name: "AI/ML study (1 hr)", xp: 30, completed: false },
      ],
      rewards: [
        { id: "coffee", name: "Coffee Shop Drink", cost: 40, purchased: false },
        { id: "gadget", name: "New Gadget", cost: 250, purchased: false },
      ],
      log: [],
    };

    function showMessage(title, content) {
      messageTitle.textContent = title;
      messageContent.textContent = content;
      messageBox.classList.remove("hidden");
    }

    function renderUI() {
      xpCounter.textContent = state.xp;
      levelName.textContent = state.levelTiers[state.level].name;
      const next = state.levelTiers[state.level + 1];
      xpToNext.textContent = next
        ? `${next.xpRequired - state.xp} XP to next level`
        : "Max Level!";
      dateDisplay.textContent = new Date().toDateString();

      questListContainer.innerHTML = "";
      state.dailyQuests.forEach((q) => {
        const div = document.createElement("div");
        div.className =
          "p-4 rounded-xl neumorphic-inset flex items-center justify-between";
        div.innerHTML = `
          <div class="flex items-center space-x-2">
            <input type="checkbox" data-id="${q.id}" class="custom-checkbox" ${
          q.completed ? "checked" : ""
        }>
            <label class="font-medium">${q.name}</label>
          </div>
          <span class="text-sm font-semibold text-yellow-400">${q.xp} XP</span>`;
        questListContainer.appendChild(div);
      });

      rewardsListContainer.innerHTML = "";
      state.rewards.forEach((r) => {
        const div = document.createElement("div");
        div.className =
          "p-4 rounded-xl neumorphic-button flex items-center justify-between";
        div.innerHTML = `
          <div>
            <h4 class="font-bold">${r.name}</h4>
            <span class="text-yellow-400">${r.cost} XP</span>
          </div>
          <button data-id="${r.id}" class="claim-button ${
          state.xp >= r.cost && !r.purchased
            ? "bg-green-500 px-3 py-1 rounded-lg"
            : "disabled-button px-3 py-1 rounded-lg"
        }">${r.purchased ? "Claimed" : "Claim"}</button>`;
        rewardsListContainer.appendChild(div);
      });
    }

    function updateDailyXP() {
      let earned = state.dailyQuests
        .filter((q) => q.completed)
        .reduce((a, q) => a + q.xp, 0);
      state.xp += earned;
      showMessage("XP Updated!", `You earned ${earned} XP today.`);
      renderUI();
    }

    function claimReward(id) {
      const r = state.rewards.find((x) => x.id === id);
      if (r && state.xp >= r.cost && !r.purchased) {
        state.xp -= r.cost;
        r.purchased = true;
        showMessage("Reward Claimed!", `You claimed ${r.name}!`);
        renderUI();
      }
    }

    questListContainer.addEventListener("change", (e) => {
      if (e.target.type === "checkbox") {
        const q = state.dailyQuests.find((x) => x.id === e.target.dataset.id);
        if (q) q.completed = e.target.checked;
      }
    });

    rewardsListContainer.addEventListener("click", (e) => {
      if (e.target.classList.contains("claim-button")) {
        claimReward(e.target.dataset.id);
      }
    });

    updateXpButton.addEventListener("click", updateDailyXP);
    closeMessageButton.addEventListener("click", () =>
      messageBox.classList.add("hidden")
    );

    renderUI();
  </script>
</body>
</html>
